
> wireframe-studio@0.1.0 test
> react-scripts test src/dsl/parser.test.ts --silent --passWithNoTests --ci --testLocationInResults --json

{"numFailedTestSuites":1,"numFailedTests":1,"numPassedTestSuites":0,"numPassedTests":10,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":1,"numTotalTests":11,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1749255153624,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["DSL Parser (parseDsl)","Valid DSL Syntax"],"failureMessages":[],"fullName":"DSL Parser (parseDsl) Valid DSL Syntax should parse a single screen with various components","location":{"column":5,"line":6},"status":"passed","title":"should parse a single screen with various components"},{"ancestorTitles":["DSL Parser (parseDsl)","Valid DSL Syntax"],"failureMessages":[],"fullName":"DSL Parser (parseDsl) Valid DSL Syntax should parse multiple screens","location":{"column":5,"line":26},"status":"passed","title":"should parse multiple screens"},{"ancestorTitles":["DSL Parser (parseDsl)","Valid DSL Syntax"],"failureMessages":["Error: expect(received).toEqual(expected) // deep equality\n\n- Expected  -  1\n+ Received  + 18\n\n- Array []\n+ Array [\n+   Object {\n+     \"lineNumber\": 2,\n+     \"message\": \"Component definition outside of a screen block.\",\n+   },\n+   Object {\n+     \"lineNumber\": 5,\n+     \"message\": \"Invalid syntax: \\\"label \\\"With space\\\" // Another comment\\\"\",\n+   },\n+   Object {\n+     \"lineNumber\": 7,\n+     \"message\": \"Invalid syntax: \\\"// Empty line above\\\"\",\n+   },\n+   Object {\n+     \"lineNumber\": 9,\n+     \"message\": \"Component definition must be indented (e.g., with two spaces).\",\n+   },\n+ ]\n    at Object.<anonymous> (/app/wireframe-studio/src/dsl/parser.test.ts:54:22)\n    at Promise.then.completed (/app/wireframe-studio/node_modules/jest-circus/build/utils.js:391:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/app/wireframe-studio/node_modules/jest-circus/build/utils.js:316:10)\n    at _callCircusTest (/app/wireframe-studio/node_modules/jest-circus/build/run.js:218:40)\n    at _runTest (/app/wireframe-studio/node_modules/jest-circus/build/run.js:155:3)\n    at _runTestsForDescribeBlock (/app/wireframe-studio/node_modules/jest-circus/build/run.js:66:9)\n    at _runTestsForDescribeBlock (/app/wireframe-studio/node_modules/jest-circus/build/run.js:60:9)\n    at _runTestsForDescribeBlock (/app/wireframe-studio/node_modules/jest-circus/build/run.js:60:9)\n    at run (/app/wireframe-studio/node_modules/jest-circus/build/run.js:25:3)\n    at runAndTransformResultsToJestFormat (/app/wireframe-studio/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)\n    at jestAdapter (/app/wireframe-studio/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)\n    at runTestInternal (/app/wireframe-studio/node_modules/jest-runner/build/runTest.js:389:16)\n    at runTest (/app/wireframe-studio/node_modules/jest-runner/build/runTest.js:475:34)\n    at TestRunner.runTests (/app/wireframe-studio/node_modules/jest-runner/build/index.js:101:12)\n    at TestScheduler.scheduleTests (/app/wireframe-studio/node_modules/@jest/core/build/TestScheduler.js:333:13)\n    at runJest (/app/wireframe-studio/node_modules/@jest/core/build/runJest.js:404:19)"],"fullName":"DSL Parser (parseDsl) Valid DSL Syntax should handle empty lines and comments gracefully","location":{"column":5,"line":42},"status":"failed","title":"should handle empty lines and comments gracefully"},{"ancestorTitles":["DSL Parser (parseDsl)","Valid DSL Syntax"],"failureMessages":[],"fullName":"DSL Parser (parseDsl) Valid DSL Syntax should parse input without placeholder","location":{"column":5,"line":62},"status":"passed","title":"should parse input without placeholder"},{"ancestorTitles":["DSL Parser (parseDsl)","Valid DSL Syntax"],"failureMessages":[],"fullName":"DSL Parser (parseDsl) Valid DSL Syntax should allow hyphens and numbers in screen names","location":{"column":5,"line":73},"status":"passed","title":"should allow hyphens and numbers in screen names"},{"ancestorTitles":["DSL Parser (parseDsl)","Invalid DSL Syntax and Error Handling"],"failureMessages":[],"fullName":"DSL Parser (parseDsl) Invalid DSL Syntax and Error Handling should return an error for components outside a screen","location":{"column":5,"line":84},"status":"passed","title":"should return an error for components outside a screen"},{"ancestorTitles":["DSL Parser (parseDsl)","Invalid DSL Syntax and Error Handling"],"failureMessages":[],"fullName":"DSL Parser (parseDsl) Invalid DSL Syntax and Error Handling should return an error for invalid component syntax","location":{"column":5,"line":95},"status":"passed","title":"should return an error for invalid component syntax"},{"ancestorTitles":["DSL Parser (parseDsl)","Invalid DSL Syntax and Error Handling"],"failureMessages":[],"fullName":"DSL Parser (parseDsl) Invalid DSL Syntax and Error Handling should return an error for unindented components","location":{"column":5,"line":109},"status":"passed","title":"should return an error for unindented components"},{"ancestorTitles":["DSL Parser (parseDsl)","Invalid DSL Syntax and Error Handling"],"failureMessages":[],"fullName":"DSL Parser (parseDsl) Invalid DSL Syntax and Error Handling should return an error for duplicate screen names","location":{"column":5,"line":123},"status":"passed","title":"should return an error for duplicate screen names"},{"ancestorTitles":["DSL Parser (parseDsl)","Invalid DSL Syntax and Error Handling"],"failureMessages":[],"fullName":"DSL Parser (parseDsl) Invalid DSL Syntax and Error Handling should return an error for invalid image src (javascript URI)","location":{"column":5,"line":139},"status":"passed","title":"should return an error for invalid image src (javascript URI)"},{"ancestorTitles":["DSL Parser (parseDsl)","Invalid DSL Syntax and Error Handling"],"failureMessages":[],"fullName":"DSL Parser (parseDsl) Invalid DSL Syntax and Error Handling should handle multiple errors","location":{"column":5,"line":150},"status":"passed","title":"should handle multiple errors"}],"endTime":1749255155921,"message":"  ● DSL Parser (parseDsl) › Valid DSL Syntax › should handle empty lines and comments gracefully\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  -  1\n    + Received  + 18\n\n    - Array []\n    + Array [\n    +   Object {\n    +     \"lineNumber\": 2,\n    +     \"message\": \"Component definition outside of a screen block.\",\n    +   },\n    +   Object {\n    +     \"lineNumber\": 5,\n    +     \"message\": \"Invalid syntax: \\\"label \\\"With space\\\" // Another comment\\\"\",\n    +   },\n    +   Object {\n    +     \"lineNumber\": 7,\n    +     \"message\": \"Invalid syntax: \\\"// Empty line above\\\"\",\n    +   },\n    +   Object {\n    +     \"lineNumber\": 9,\n    +     \"message\": \"Component definition must be indented (e.g., with two spaces).\",\n    +   },\n    + ]\n\n      52 | `;\n      53 |       const { screens, errors } = parseDsl(dsl);\n    > 54 |       expect(errors).toEqual([]);\n         |                      ^\n      55 |       expect(screens).toHaveLength(1);\n      56 |       expect(screens[0].name).toBe('CommentScreen');\n      57 |       expect(screens[0].components).toHaveLength(2);\n\n      at Object.<anonymous> (src/dsl/parser.test.ts:54:22)\n      at TestScheduler.scheduleTests (node_modules/@jest/core/build/TestScheduler.js:333:13)\n      at runJest (node_modules/@jest/core/build/runJest.js:404:19)\n","name":"/app/wireframe-studio/src/dsl/parser.test.ts","startTime":1749255154452,"status":"failed","summary":""}],"wasInterrupted":false}